
真不卡影院： https://www.zbkk.net/zbkplay/440-2-1.html


https://m3u8.zhisongip.com:38741/video/65b4b1b505ce6fcd196cacb0fab2a432.m3u8


下载方法：

1. https://blog.csdn.net/weixin_58006168/article/details/126744021

https://wwe.lanzouj.com/b015uarti
下载工具：　m3u8-win64.zip

1. 下载视频分片ts工具： m3u8.exe    (双击后允许，输入 mu38 链接地址) 下载到的ts文件若没加密可直接播放
２.　合并ts工具： ffmpeg.exe


2. https://github.com/ShakeCode/downkyi

3. https://github.com/xifangczy/cat-catch/releases


爱奇艺 dash 优酷 appinfo 腾讯 proxyhttp            （暂时的）

网页视频平台 常用获取m3u8链接方式

按F12键-网络-搜索dash(没有就 F5 刷新)-复制object内容(筛选出m3u8链接)-筛选m3u8链接-去转码

F12-network-media(媒体文件包含视频数据)

在线转码：https://tool.oschina.net/encode?type=4

https://gitcode.net/mirrors/nilaoda/N_m3u8DL-CLI?utm_source=csdn_github_accelerator

https://blog.csdn.net/doublefi123/article/details/47276739

官方网站： https://ffmpeg.org/

http://www.ffmpeg.org/download.html

windows 版本： https://www.gyan.dev/ffmpeg/builds/

-----------------------------------------------------------------------------------------
【FFmpeg命令使用（win和liunx命令差不多 位置需要自己改）】


先用ffmpeg把abc.mp4文件转换为111.ts文件： （单个ts大一点，然后切成多个ts） 
# ffmpeg -i 111.mp4 -vcodec copy -acodec copy -vbsf h264_mp4toannexb 1111.ts 
 
再用ffmpeg把abc.ts文件切片并生成1111.m3u8文件，5秒一个切片：（%03d.ts是输出的格式以000开头 列：000.ts） 
# ffmpeg -i 1111.ts -c copy -map 0 -f segment -segment_list 1111.m3u8 -segment_time 5 %03d.ts 
 
使用ffmpeg下载m3u8： （容易出错，推荐用工具下载，ffmpeg转格式用 下载速度慢） 
# ffmpeg -i https://xxx/xxx/xxx/xx.m3u8 1111.mp4 # ffmpeg -i *.m3u8 5.mp4 //下载慢 
# ffmpeg -i input.mp4 –f mp3 output.mp3 //提取MP4里的MP3 # ffmpeg -i *.m3u8 -c copy -bsf:a aac_adtstoasc *.mp4 //高速下载

【win   举例         （  win10指令未成功） //需要手动转    菜单+ R  输入 CMD】
ffmpeg -i 本地视频地址 -y -c:v libx264 -strict -2 转换视频.mp4 //如果视频不为mp4格式，需先将视频转码为mp4，可使用如下命令进行转换 
 
ffmpeg -y -i 本地视频.mp4 -vcodec copy -acodec copy -vbsf h264_mp4toannexb 转换视频.ts //将mp4格式转换为ts格式 
 
ffmpeg -i 本地视频.ts -c copy -map 0 -f segment -segment_list 视频索引.m3u8 -segment_time 5 前缀%03d.ts //将ts文件进行切片 
 
ffmpeg -i F:\B站下载器\第一餐\正片\1.mp4 -vcodec copy -acodec copy -vbsf h264_mp4toannexb G:\切割\1\11111.ts ffmpeg -i G:\切割\1\11111.ts -c copy -map 0 -f segment -segment_list G:\切割\1\11111.m3u8 -segment_time 5 G:\切割\1\%03d.ts 
 
ffmpeg -y -i H:\存放区\static\10.mp4 -vcodec copy -acodec copy -vbsf h264_mp4toannexb H:\存放区\static\11111.ts 
ffmpeg -i H:\存放区\10.ts -c copy -map 0 -f segment -segment_list H:\存放区\static\10.m3u8 -segment_time 5 H:\存放区\static\10\%03d.ts H:\存放区\static\


【
【mp4转码m3u8】

如果视频不为mp4格式，需先将视频转码为mp4，可使用如下命令进行转换 

ffmpeg -i 本地视频地址 -y -c:v libx264 -strict -2 转换视频.mp4

【将mp4格式转换为ts格式 】

ffmpeg -y -i 本地视频.mp4 -vcodec copy -acodec copy -vbsf h264_mp4toannexb 转换视频.ts

将ts文件进行切片 

ffmpeg -i 本地视频.ts -c copy -map 0 -f segment -segment_list 视频索引.m3u8 -segment_time 5 前缀-%03d.ts

【视频拆分】：

ffmpeg -y -i DJI_0115.mp4 -vcodec copy -acodec copy -vbsf h264_mp4toannexb DJI_0115.ts

ffmpeg -i DJI_0115.ts -c copy -map 0 -f segment -segment_list playlist.m3u8 -segment_time 1 DJI_0115_%03d.ts
】

-----------------------------------------------------------------------------------------

【实际测试】
1. 下载分片： https://m3u8.zhisongip.com:38741/video/65b4b1b505ce6fcd196cacb0fab2a432.m3u8

2. 合并分片：

cd E:\software\mu38\m3u8-win64\download\temp

下载windows版本ffmpeg： http://www.ffmpeg.org/download.html

设置环境变量：
E:\software\mu38\ffmpeg-master-latest-win64-gpl\ffmpeg-master-latest-win64-gpl\bin

测试环境变量设置是否成功： 在cmd下输入 ffmpeg

C:\Windows\system32>ffmpeg
ffmpeg version N-108547-gaaf4109a5f-20221006 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 12.1.0 (crosstool-NG 1.25.0.55_3defb7b)
  configuration: --prefix=/ffbuild/prefix --pkg-config-flags=--static --pkg-config=pkg-config --cross-prefix=x86_64-w64-mingw32- --arch=x86_64 --target-os=mingw32 --enable-gpl --enable-version3 --disable-debug --disable-w32threads --enable-pthreads --enable-iconv --enable-libxml2 --enable-zlib --enable-libfreetype --enable-libfribidi --enable-gmp --enable-lzma --enable-fontconfig --enable-libvorbis --enable-opencl --disable-libpulse --enable-libvmaf --disable-libxcb --disable-xlib --enable-amf --enable-libaom --enable-libaribb24 --enable-avisynth --enable-libdav1d --enable-libdavs2 --disable-libfdk-aac --enable-ffnvcodec --enable-cuda-llvm --enable-frei0r --enable-libgme --enable-libkvazaar --enable-libass --enable-libbluray --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librist --enable-libssh --enable-libtheora --enable-libvpx --enable-libwebp --enable-lv2 --enable-libmfx --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenh264 --enable-libopenjpeg --enable-libopenmpt --enable-librav1e --enable-librubberband --enable-schannel --enable-sdl2 --enable-libsoxr --enable-libsrt --enable-libsvtav1 --enable-libtwolame --enable-libuavs3d --disable-libdrm --disable-vaapi --enable-libvidstab --enable-vulkan --enable-libshaderc --enable-libplacebo --enable-libx264 --enable-libx265 --enable-libxavs2 --enable-libxvid --enable-libzimg --enable-libzvbi --extra-cflags=-DLIBTWOLAME_STATIC --extra-cxxflags= --extra-ldflags=-pthread --extra-ldexeflags= --extra-libs=-lgomp --extra-version=20221006
  libavutil      57. 39.100 / 57. 39.100
  libavcodec     59. 50.100 / 59. 50.100
  libavformat    59. 34.100 / 59. 34.100
  libavdevice    59.  8.101 / 59.  8.101
  libavfilter     8. 49.101 /  8. 49.101
  libswscale      6.  8.112 /  6.  8.112
  libswresample   4.  9.100 /  4.  9.100
  libpostproc    56.  7.100 / 56.  7.100
Hyper fast Audio and Video encoder
usage: ffmpeg [options] [[infile options] -i infile]... {[outfile options] outfile}...

Use -h to get full help or, even better, run 'man ffmpeg'


合并有两种方式 ，第一种 合并少量，第二种合并多的，
4.1 合并少量
直接写文件名，文件之间使用 | 隔开

ffmpeg -i "concat:1.ts|2.ts|3.ts|4.ts|.5.ts|" -c copy output.mp4

ffmpeg -i "concat:0.mp3|1.mp3" -acodec copy output.mp3

4.2 合并多的
需要先把文件名保存到 文本文本中，而且格式必须一致，不能有中文， ts按照顺序
file  '文件路径\0.ts'
file  '文件路径\1.ts'
file  '文件路径\2.ts'
